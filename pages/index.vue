
<template>
<div style="    width: 100%;
    height: 100%;
    position: absolute;
    overflow: auto; text-align:center">
	<div style=" margin: 0 auto; width: 400px">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:se="http://svg-edit.googlecode.com" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" width="355.2093025383401" height="190">                                    <title>my vector image</title>                                    <!-- Created with Vector Paint - http://www.vectorpaint.yaks.com/ https://chrome.google.com/webstore/detail/hnbpdiengicdefcjecjbnjnoifekhgdo -->                                    <rect id="backgroundrect" width="100%" height="100%" x="0" y="0" fill="#FFFFFF" stroke="none" class=""/>                                <g class="currentLayer"><title>Layer 1</title><path fill="#7dbf79" stroke="#dadada" stroke-width="1" stroke-linejoin="round" stroke-dashoffset="" fill-rule="nonzero" marker-start="" marker-mid="" marker-end="" d="M8.194169693607506,82.11089527307635 L40.615662532449846,28.830178022378334 L127.0729699997708,28.830178022378334 L159.49445268423,82.11089527307635 L127.0729699997708,135.39161252377545 L40.615662532449846,135.39161252377545 L8.194169693607506,82.11089527307635 z" style="color: rgb(0, 0, 0);" class="" fill-opacity="1" stroke-opacity="1" opacity="1" id="svg_3"/><path fill="#4a7484" stroke="#dadada" stroke-width="1" stroke-linejoin="round" stroke-dashoffset="" fill-rule="nonzero" marker-start="" marker-mid="" marker-end="" d="M228.51055794445398,91.64577943807083 L245.91408044232395,63.365059200982216 L292.32347013613014,63.365059200982216 L309.72698718323204,91.64577943807083 L292.32347013613014,119.92649967515993 L245.91408044232395,119.92649967515993 L228.51055794445398,91.64577943807083 z" style="color: rgb(0, 0, 0);" class="" fill-opacity="1" stroke-opacity="1" opacity="1" id="svg_2"/><path fill="#d0a262" stroke="#dadada" stroke-width="1" stroke-linejoin="round" stroke-dashoffset="" fill-rule="nonzero" marker-start="" marker-mid="" marker-end="" d="M139.0406876229456,121.006243566156 L161.4136717881649,82.55110329727009 L221.07495822394833,82.55110329727009 L243.4479353819686,121.006243566156 L221.07495822394833,159.46138383504268 L161.4136717881649,159.46138383504268 L139.0406876229456,121.006243566156 z" style="color: rgb(0, 0, 0);" class="" fill-opacity="1" stroke-opacity="1" opacity="1" id="svg_4"/><foreignObject fill="#7dbf79" stroke="#dadada" stroke-linejoin="round" stroke-dashoffset="" fill-rule="nonzero" font-size="24" font-family="'Palatino Linotype', 'Book Antiqua', Palatino, serif" letter-spacing="0" word-spacing="0" marker-start="" marker-mid="" marker-end="" id="svg_5" x="46.992204153453656" y="135.97675357024235" width="82.04919133079297" height="27.488842516565686" style="color: rgb(0, 0, 0); text-align: justify;" class=""><p style="border: none;outline: none;font-size: inherit;line-height: 1em;padding:0;margin:0;" xmlns="http://www.w3.org/1999/xhtml"><p xmlns="http://www.w3.org/1999/xhtml" style="border: none;outline: none;font-size: inherit;line-height: 1em;padding:0;margin:0;"></p><p xmlns="http://www.w3.org/1999/xhtml" style="border: none;outline: none;font-size: inherit;line-height: 1em;padding:0;margin:0;">HYRIS</p><p style="border: none;outline: none;font-size: inherit;line-height: 1em;padding:0;margin:0;"></p></p></foreignObject><foreignObject fill="#7dbf79" stroke="#dadada" stroke-linejoin="round" stroke-dashoffset="" fill-rule="nonzero" font-size="14" font-family="'Palatino Linotype', 'Book Antiqua', Palatino, serif" letter-spacing="0" word-spacing="0" marker-start="" marker-mid="" marker-end="" id="svg_6" x="247.55813267451555" y="126.60467337266562" width="75.31049891460725" height="14.50115728215221" style="color: rgb(109, 109, 109);" class=""><p style="border: none;outline: none;font-size: inherit;line-height: 1em;padding:0;margin:0;" xmlns="http://www.w3.org/1999/xhtml"><p xmlns="http://www.w3.org/1999/xhtml" style="border: none;outline: none;font-size: inherit;line-height: 1em;padding:0;margin:0;"></p><p xmlns="http://www.w3.org/1999/xhtml" style="border: none;outline: none;font-size: inherit;line-height: 1em;padding:0;margin:0;">GLOBAL</p><p style="border: none;outline: none;font-size: inherit;line-height: 1em;padding:0;margin:0;"></p></p></foreignObject><foreignObject fill="#7dbf79" stroke="#dadada" stroke-linejoin="round" stroke-dashoffset="" fill-rule="nonzero" font-size="14" font-family="'Palatino Linotype', 'Book Antiqua', Palatino, serif" letter-spacing="0" word-spacing="0" marker-start="" marker-mid="" marker-end="" x="234.99999159650753" y="145.44188263064277" width="110.20030254060835" height="20.315675968614595" style="color: rgb(109, 109, 109);" class="" id="svg_11"><p style="border: none;outline: none;font-size: inherit;line-height: 1em;padding:0;margin:0;" xmlns="http://www.w3.org/1999/xhtml"><p xmlns="http://www.w3.org/1999/xhtml" style="border: none;outline: none;font-size: inherit;line-height: 1em;padding:0;margin:0;"></p><p xmlns="http://www.w3.org/1999/xhtml" style="border: none;outline: none;font-size: inherit;line-height: 1em;padding:0;margin:0;" id="svg_12">DIAGNOSTICS</p><p style="border: none;outline: none;font-size: inherit;line-height: 1em;padding:0;margin:0;"></p></p></foreignObject></g></svg>
	<form v-if="!$store.state.authUser" @submit.prevent="login">
      <p class="error" v-if="formError">{{ formError }}</p>

	  <v-text-field 
            name="username"
            label="Login"
			v-model="formUsername"
          ></v-text-field>
		  
		    <v-text-field 
			v-model="formPassword"

            name="password"
            label="Password"
          ></v-text-field>
	  
	  <v-btn light default type="submit" >Login</v-btn>

    </form>
    <div v-else>
      Hello {{ $store.state.authUser.username }}!
      <pre>I am the secret content, I am shown only when the use is connected.</pre>
      <p><i>You can also refresh this page, you'll still be connected!</i></p>
	
       <v-btn light default v-on:click.native="logout" >Logout</v-btn> 

    </div>
    <!--<p>
	
	<nuxt-link to="/secret">Super secret page</nuxt-link></p> -->



 </div>
 </div>
</template> 


<script>
export default {
  data () {
    return {
      formError: null,
      formUsername: '',
      formPassword: ''
    }
  },
  methods: {
    login () {
      this.$store.dispatch('login', {
        username: this.formUsername,
        password: this.formPassword
      })
      .then(() => {
        this.formUsername = ''
        this.formPassword = ''
        this.formError = null
      })
      .catch((e) => {
        this.formError = e.message
      })
    },
    logout () {
      this.$store.dispatch('logout')
    }
  }
}
</script>

<style>
.svg{

}
.container {


left:50%;
top:50%;
margin:0 auto;

}
.error {
  color: white;
}
</style>
